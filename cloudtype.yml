# Cloudtype 배포 설정 파일 (참고용)
# Cloudtype 대시보드에서 직접 설정하거나, 이 파일을 참고하여 설정

# 백엔드 애플리케이션
backend:
  platform: java
  build_type: jar
  build_command: ./gradlew clean build
  run_command: java -jar build/libs/jokerweb-0.0.1-SNAPSHOT.jar
  port: 8080
  environment_variables:
    - SPRING_PROFILES_ACTIVE=prod
    - DB_URL=${DB_URL}
    - DB_USERNAME=${DB_USERNAME}
    - DB_PASSWORD=${DB_PASSWORD}
    - JWT_SECRET=${JWT_SECRET}
    - NXOPEN_API_KEY=${NXOPEN_API_KEY}
    - CORS_ALLOWED_ORIGINS=${FRONTEND_URL}
    - SERVER_PORT=8080

# 프론트엔드 애플리케이션
frontend:
  platform: nodejs
  build_command: cd frontend && npm install && npm run build
  run_command: cd frontend && npm start
  port: 3000
  environment_variables:
    - NEXT_PUBLIC_API_BASE=${BACKEND_URL}/api
    - NODE_VERSION=20

# 데이터베이스
database:
  type: mariadb
  version: 10.6
  database_name: jokercommunity

